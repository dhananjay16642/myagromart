{"ast":null,"code":"import{useSelector,useDispatch}from\"react-redux\";import{useForm}from\"react-hook-form\";import{selectLoggedInUser,createUserAsync}from\"../authSlice\";import{Link}from\"react-router-dom\";import{Navigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Signup(){const dispatch=useDispatch();const user=useSelector(selectLoggedInUser);const{register,handleSubmit,formState:{errors}}=useForm();console.log(errors);return/*#__PURE__*/_jsxs(_Fragment,{children:[user&&/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sm:mx-auto sm:w-full sm:max-w-sm\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\",children:\"Create a New Account\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\",children:[/*#__PURE__*/_jsxs(\"form\",{noValidate:true,className:\"space-y-6\",onSubmit:handleSubmit(data=>{dispatch(createUserAsync({email:data.email,password:data.password,addresses:[],role:'user'}));console.log(data);}),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Email address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"email\",...register(\"email\",{required:\"email is required\",pattern:{value:/\\b[\\w\\.-]+@[\\w\\.-]+\\.\\w{2,4}\\b/gi,message:\"email not valid\"}}),type:\"email\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"}),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.email.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Password\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"password\",...register(\"password\",{required:\"password is required\",pattern:{value:/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm,message:\"- at least 8 characters\\n\\n                      - must contain at least 1 uppercase letter, 1 lowercase letter, and 1 number\\n\\n                      - Can contain special characters\"}}),type:\"password\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"}),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.password.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Confirm Password\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"confirmPassword\",...register(\"confirmPassword\",{required:\"confirm password is required\",validate:(value,formValues)=>value===formValues.password||\"password not matching\"}),type:\"password\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"}),errors.confirmPassword&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.confirmPassword.message})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\",children:\"Sign Up\"})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-10 text-center text-sm text-gray-500\",children:[\"Already a Member?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"font-semibold leading-6 text-indigo-600 hover:text-indigo-500\",children:\"Log In\"})]})]})]})]});}","map":{"version":3,"names":["useSelector","useDispatch","useForm","selectLoggedInUser","createUserAsync","Link","Navigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Signup","dispatch","user","register","handleSubmit","formState","errors","console","log","children","to","replace","className","noValidate","onSubmit","data","email","password","addresses","role","htmlFor","id","required","pattern","value","message","type","validate","formValues","confirmPassword"],"sources":["D:/Majorproject/agromart/src/features/auth/components/Signup.js"],"sourcesContent":["import { useSelector, useDispatch } from \"react-redux\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport { selectLoggedInUser, createUserAsync } from \"../authSlice\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nexport default function Signup() {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(selectLoggedInUser);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  console.log(errors);\r\n\r\n  return (\r\n    <>\r\n      {user && <Navigate to=\"/\" replace={true}></Navigate>}\r\n\r\n      <div className=\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\">\r\n        <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\r\n          {/* <img\r\n            className=\"mx-auto h-10 w-auto\"\r\n            src=\"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600\"\r\n            alt=\"Your Company\"\r\n          /> */}\r\n          <h2 className=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\">\r\n            Create a New Account\r\n          </h2>\r\n        </div>\r\n\r\n        <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\r\n          <form\r\n            noValidate\r\n            className=\"space-y-6\"\r\n            onSubmit={handleSubmit((data) => {\r\n              dispatch(\r\n                createUserAsync({ email: data.email, password: data.password, addresses:[], role:'user' })\r\n              );\r\n              console.log(data);\r\n            })}\r\n          >\r\n            <div>\r\n              <label\r\n                htmlFor=\"email\"\r\n                className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n              >\r\n                Email address\r\n              </label>\r\n              <div className=\"mt-2\">\r\n                <input\r\n                  id=\"email\"\r\n                  {...register(\"email\", {\r\n                    required: \"email is required\",\r\n                    pattern: {\r\n                      value: /\\b[\\w\\.-]+@[\\w\\.-]+\\.\\w{2,4}\\b/gi,\r\n                      message: \"email not valid\",\r\n                    },\r\n                  })}\r\n                  type=\"email\"\r\n                  className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                />\r\n                {errors.email && (\r\n                  <p className=\"text-red-500\">{errors.email.message}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <label\r\n                  htmlFor=\"password\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Password\r\n                </label>\r\n                \r\n              </div>\r\n              <div className=\"mt-2\">\r\n                <input\r\n                  id=\"password\"\r\n                  {...register(\"password\", {\r\n                    required: \"password is required\",\r\n                    pattern: {\r\n                      value:\r\n                        /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm,\r\n                      message: `- at least 8 characters\\n\r\n                      - must contain at least 1 uppercase letter, 1 lowercase letter, and 1 number\\n\r\n                      - Can contain special characters`,\r\n                    },\r\n                  })}\r\n                  type=\"password\"\r\n                  className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                />\r\n                {errors.password && (\r\n                  <p className=\"text-red-500\">{errors.password.message}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <label\r\n                  htmlFor=\"password\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Confirm Password\r\n                </label>\r\n              </div>\r\n              <div className=\"mt-2\">\r\n                <input\r\n                  id=\"confirmPassword\"\r\n                  {...register(\"confirmPassword\", {\r\n                    required: \"confirm password is required\",\r\n                    validate: (value, formValues) =>\r\n                      value === formValues.password || \"password not matching\",\r\n                  })}\r\n                  type=\"password\"\r\n                  className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                />\r\n                {errors.confirmPassword && (\r\n                  <p className=\"text-red-500\">\r\n                    {errors.confirmPassword.message}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\r\n              >\r\n                Sign Up\r\n              </button>\r\n            </div>\r\n          </form>\r\n\r\n          <p className=\"mt-10 text-center text-sm text-gray-500\">\r\n            Already a Member?{\" \"}\r\n            <Link\r\n              to=\"/login\"\r\n              className=\"font-semibold leading-6 text-indigo-600 hover:text-indigo-500\"\r\n            >\r\n              Log In\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}