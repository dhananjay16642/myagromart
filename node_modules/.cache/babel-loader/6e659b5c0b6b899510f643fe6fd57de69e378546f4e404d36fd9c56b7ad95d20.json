{"ast":null,"code":"import{Counter}from\"./features/counter/Counter\";import\"./App.css\";import Home from\"./pages/Home\";import LoginPage from\"./pages/LoginPage\";import SignupPage from\"./pages/SignupPage\";import{createBrowserRouter,Link,RouterProvider}from\"react-router-dom\";import CartPage from\"./pages/CartPage\";import Checkout from\"./pages/Checkout\";import ProductDetailPage from\"./pages/ProductDetailPage\";import Protected from\"./features/auth/components/Protected\";import{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{selectLoggedInUser}from\"./features/auth/authSlice\";import{fetchItemsByUserIdAsync}from\"./features/cart/cartSlice\";import PageNotFound from\"./pages/404\";import OrderSuccessPage from\"./pages/OrderSuccessPage\";import UserOrdersPage from\"./pages/UserOrdersPage\";import UserProfilePage from\"./pages/UserProfilePage\";import{fetchLoggedInUserAsync}from\"./features/user/userSlice\";import Logout from\"./features/auth/components/Logout\";import ForgotPasswordPage from\"./pages/ForgotPasswordPage\";import ContactPage from\"./pages/ContactPage\";import ProtectedAdmin from\"./features/auth/components/ProtectedAdmin\";import AdminHome from\"./pages/AdminHome\";import AdminProductDetailPage from\"./pages/AdminProductDetailPage\";import AdminProductFormPage from\"./pages/AdminProductFormPage\";import AdminOrdersPage from\"./pages/AdminOrdersPage\";import{positions,Provider}from\"react-alert\";import AlertTemplate from\"react-alert-template-basic\";import{jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const options={timeout:5000,position:positions.BOTTOM_LEFT};const router=createBrowserRouter([{path:\"/\",element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(Home,{})})},{path:\"/admin\",element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminHome,{})})},{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})},{path:\"/signup\",element:/*#__PURE__*/_jsx(SignupPage,{})},{// only for testing - then page will be added\npath:\"/cart\",element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(CartPage,{})})},{path:\"/checkout\",element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(Checkout,{})})},{path:\"/product-detail/:id\",element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(ProductDetailPage,{})})},{path:\"/admin/product-detail/:id\",element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminProductDetailPage,{})})},{path:\"/admin/product-form\",element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminProductFormPage,{})})},{path:\"/admin/orders\",element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminOrdersPage,{})})},{path:\"/admin/product-form/edit/:id\",element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminProductFormPage,{})})},{path:\"/order-success/:id\",element:/*#__PURE__*/_jsx(OrderSuccessPage,{})},{path:\"/orders\",element:/*#__PURE__*/_jsx(UserOrdersPage,{})},{path:\"/profile\",element:/*#__PURE__*/_jsx(UserProfilePage,{})},{path:\"/logout\",element:/*#__PURE__*/_jsx(Logout,{})},{path:\"/forgot-password\",element:/*#__PURE__*/_jsx(ForgotPasswordPage,{})},{path:\"*\",element:/*#__PURE__*/_jsx(PageNotFound,{})},{path:\"/contact\",element:/*#__PURE__*/_jsx(ContactPage,{})}]);function App(){const dispatch=useDispatch();const user=useSelector(selectLoggedInUser);useEffect(()=>{if(user){dispatch(fetchItemsByUserIdAsync(user.id));dispatch(fetchLoggedInUserAsync(user.id));}},[dispatch,user]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(Provider,{template:AlertTemplate,...options,children:/*#__PURE__*/_jsx(RouterProvider,{router:router})})})});}export default App;","map":{"version":3,"names":["Counter","Home","LoginPage","SignupPage","createBrowserRouter","Link","RouterProvider","CartPage","Checkout","ProductDetailPage","Protected","useEffect","useDispatch","useSelector","selectLoggedInUser","fetchItemsByUserIdAsync","PageNotFound","OrderSuccessPage","UserOrdersPage","UserProfilePage","fetchLoggedInUserAsync","Logout","ForgotPasswordPage","ContactPage","ProtectedAdmin","AdminHome","AdminProductDetailPage","AdminProductFormPage","AdminOrdersPage","positions","Provider","AlertTemplate","jsx","_jsx","Fragment","_Fragment","options","timeout","position","BOTTOM_LEFT","router","path","element","children","App","dispatch","user","id","className","template"],"sources":["D:/Majorproject/agromart/src/App.js"],"sourcesContent":["import { Counter } from \"./features/counter/Counter\";\nimport \"./App.css\";\nimport Home from \"./pages/Home\";\nimport LoginPage from \"./pages/LoginPage\";\nimport SignupPage from \"./pages/SignupPage\";\nimport { createBrowserRouter, Link, RouterProvider } from \"react-router-dom\";\nimport CartPage from \"./pages/CartPage\";\nimport Checkout from \"./pages/Checkout\";\nimport ProductDetailPage from \"./pages/ProductDetailPage\";\nimport Protected from \"./features/auth/components/Protected\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectLoggedInUser } from \"./features/auth/authSlice\";\nimport { fetchItemsByUserIdAsync } from \"./features/cart/cartSlice\";\nimport PageNotFound from \"./pages/404\";\nimport OrderSuccessPage from \"./pages/OrderSuccessPage\";\nimport UserOrdersPage from \"./pages/UserOrdersPage\";\nimport UserProfilePage from \"./pages/UserProfilePage\";\nimport { fetchLoggedInUserAsync } from \"./features/user/userSlice\";\nimport Logout from \"./features/auth/components/Logout\";\nimport ForgotPasswordPage from \"./pages/ForgotPasswordPage\";\nimport ContactPage from \"./pages/ContactPage\";\nimport ProtectedAdmin from \"./features/auth/components/ProtectedAdmin\";\nimport AdminHome from \"./pages/AdminHome\";\nimport AdminProductDetailPage from \"./pages/AdminProductDetailPage\";\nimport AdminProductFormPage from \"./pages/AdminProductFormPage\";\nimport AdminOrdersPage from \"./pages/AdminOrdersPage\";\nimport { positions, Provider } from \"react-alert\";\nimport AlertTemplate from \"react-alert-template-basic\";\n\nconst options = {\n  timeout: 5000,\n  position: positions.BOTTOM_LEFT,\n};\n\nconst router = createBrowserRouter([\n  {\n    path: \"/\",\n    element: (\n      <Protected>\n        <Home></Home>\n      </Protected>\n    ),\n  },\n  {\n    path: \"/admin\",\n    element: (\n      <ProtectedAdmin>\n        <AdminHome></AdminHome>\n      </ProtectedAdmin>\n    ),\n  },\n  {\n    path: \"/login\",\n    element: <LoginPage></LoginPage>,\n  },\n  {\n    path: \"/signup\",\n    element: <SignupPage></SignupPage>,\n  },\n  {\n    // only for testing - then page will be added\n    path: \"/cart\",\n    element: (\n      <Protected>\n        <CartPage></CartPage>\n      </Protected>\n    ),\n  },\n  {\n    path: \"/checkout\",\n    element: (\n      <Protected>\n        <Checkout></Checkout>\n      </Protected>\n    ),\n  },\n  {\n    path: \"/product-detail/:id\",\n    element: (\n      <Protected>\n        <ProductDetailPage></ProductDetailPage>\n      </Protected>\n    ),\n  },\n  {\n    path: \"/admin/product-detail/:id\",\n    element: (\n      <ProtectedAdmin>\n        <AdminProductDetailPage></AdminProductDetailPage>\n      </ProtectedAdmin>\n    ),\n  },\n  {\n    path: \"/admin/product-form\",\n    element: (\n      <ProtectedAdmin>\n        <AdminProductFormPage></AdminProductFormPage>\n      </ProtectedAdmin>\n    ),\n  },\n  {\n    path: \"/admin/orders\",\n    element: (\n      <ProtectedAdmin>\n        <AdminOrdersPage></AdminOrdersPage>\n      </ProtectedAdmin>\n    ),\n  },\n  {\n    path: \"/admin/product-form/edit/:id\",\n    element: (\n      <ProtectedAdmin>\n        <AdminProductFormPage></AdminProductFormPage>\n      </ProtectedAdmin>\n    ),\n  },\n  {\n    path: \"/order-success/:id\",\n    element: <OrderSuccessPage></OrderSuccessPage>,\n  },\n  {\n    path: \"/orders\",\n    element: <UserOrdersPage></UserOrdersPage>,\n  },\n  {\n    path: \"/profile\",\n    element: <UserProfilePage></UserProfilePage>,\n  },\n  {\n    path: \"/logout\",\n    element: <Logout></Logout>,\n  },\n  {\n    path: \"/forgot-password\",\n    element: <ForgotPasswordPage></ForgotPasswordPage>,\n  },\n  {\n    path: \"*\",\n    element: <PageNotFound></PageNotFound>,\n  },\n  {\n    path: \"/contact\",\n    element: <ContactPage></ContactPage>,\n  },\n]);\n\nfunction App() {\n  const dispatch = useDispatch();\n  const user = useSelector(selectLoggedInUser);\n\n  useEffect(() => {\n    if (user) {\n      dispatch(fetchItemsByUserIdAsync(user.id));\n      dispatch(fetchLoggedInUserAsync(user.id));\n    }\n  }, [dispatch, user]);\n\n  return (\n    <>\n      <div className=\"App\">\n        <Provider template={AlertTemplate} {...options}>\n          <RouterProvider router={router} />\n        </Provider>\n        {/* Link must be inside the Provider */}\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}