{"ast":null,"code":"import{useSelector,useDispatch}from\"react-redux\";import{selectError,selectLoggedInUser}from'../authSlice';import{Link,Navigate}from\"react-router-dom\";import{checkUserAsync}from\"../authSlice\";import{useForm}from\"react-hook-form\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){const dispatch=useDispatch();const error=useSelector(selectError);const user=useSelector(selectLoggedInUser);const{register,handleSubmit,formState:{errors}}=useForm();console.log(errors);return/*#__PURE__*/_jsxs(_Fragment,{children:[user&&/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sm:mx-auto sm:w-full sm:max-w-sm\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\",children:\"Log in to your account\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\",children:[/*#__PURE__*/_jsxs(\"form\",{noValidate:true,onSubmit:handleSubmit(data=>{dispatch(checkUserAsync({email:data.email,password:data.password}));}),className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Email address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"email\",...register(\"email\",{required:\"email is required\",pattern:{value:/\\b[\\w\\.-]+@[\\w\\.-]+\\.\\w{2,4}\\b/gi,message:\"email not valid\"}}),type:\"email\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"}),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.email.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",className:\"font-semibold text-indigo-600 hover:text-indigo-500\",children:\"Forgot password?\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"password\",...register(\"password\",{required:\"password is required\"}),type:\"password\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"}),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.password.message})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:error.message})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\",children:\"Log in\"})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-10 text-center text-sm text-gray-500\",children:[\"Not a member?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"font-semibold leading-6 text-indigo-600 hover:text-indigo-500\",children:\"Create an Account\"})]})]})]})]});}","map":{"version":3,"names":["useSelector","useDispatch","selectError","selectLoggedInUser","Link","Navigate","checkUserAsync","useForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","dispatch","error","user","register","handleSubmit","formState","errors","console","log","children","to","replace","className","noValidate","onSubmit","data","email","password","htmlFor","id","required","pattern","value","message","type"],"sources":["D:/Majorproject/agromart/src/features/auth/components/Login.js"],"sourcesContent":["import { useSelector, useDispatch } from \"react-redux\";\nimport { selectError, selectLoggedInUser } from '../authSlice';\nimport { Link, Navigate } from \"react-router-dom\";\nimport { checkUserAsync } from \"../authSlice\";\nimport { useForm } from \"react-hook-form\";\n\nexport default function Login() {\n  const dispatch = useDispatch();\n  const error = useSelector(selectError);\n  const user = useSelector(selectLoggedInUser);\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm();\n\n  console.log(errors);\n\n  return (\n    <>\n      {user && <Navigate to=\"/\" replace={true}></Navigate>}\n\n      <div className=\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\">\n        <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\n          {/* <img\n            className=\"mx-auto h-10 w-auto\"\n            src=\"/image/user.jpg\"\n            alt=\"Your Company\"\n          /> */}\n          <h2 className=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\">\n            Log in to your account\n          </h2>\n        </div>\n\n        <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\n          <form\n            noValidate\n            onSubmit={handleSubmit((data) => {\n              dispatch(\n                checkUserAsync({ email: data.email, password: data.password })\n              );\n            })}\n            className=\"space-y-6\"\n          >\n            <div>\n              <label\n                htmlFor=\"email\"\n                className=\"block text-sm font-medium leading-6 text-gray-900\"\n              >\n                Email address\n              </label>\n              <div className=\"mt-2\">\n                <input\n                  id=\"email\"\n                  {...register(\"email\", {\n                    required: \"email is required\",\n                    pattern: {\n                      value: /\\b[\\w\\.-]+@[\\w\\.-]+\\.\\w{2,4}\\b/gi,\n                      message: \"email not valid\",\n                    },\n                  })}\n                  type=\"email\"\n                  className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n                />\n                {errors.email && (\n                  <p className=\"text-red-500\">{errors.email.message}</p>\n                )}\n              </div>\n            </div>\n\n            <div>\n              <div className=\"flex items-center justify-between\">\n                <label\n                  htmlFor=\"password\"\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\n                >\n                  Password\n                </label>\n                <div className=\"text-sm\">\n                  <Link\n                    to=\"/forgot-password\"\n                    className=\"font-semibold text-indigo-600 hover:text-indigo-500\"\n                  >\n                    Forgot password?\n                  </Link>\n                </div>\n              </div>\n              <div className=\"mt-2\">\n                <input\n                  id=\"password\"\n                  {...register(\"password\", {\n                    required: \"password is required\",\n                  })}\n                  type=\"password\"\n                  className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n                />\n                {errors.password && (\n                  <p className=\"text-red-500\">{errors.password.message}</p>\n                )}\n              </div>\n              {error && <p className=\"text-red-500\">{error.message}</p>}\n            </div>\n\n            <div>\n              <button\n                type=\"submit\"\n                className=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\n              >\n                Log in\n              </button>\n            </div>\n          </form>\n\n          <p className=\"mt-10 text-center text-sm text-gray-500\">\n            Not a member?{\" \"}\n            <Link\n              to=\"/signup\"\n              className=\"font-semibold leading-6 text-indigo-600 hover:text-indigo-500\"\n            >\n              Create an Account\n            </Link>\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}