{"ast":null,"code":"import{createAsyncThunk,createSlice}from'@reduxjs/toolkit';import{fetchAllProducts,fetchProductsByFilters,fetchBrands,fetchCategories,fetchProductById,createProduct,updateProduct}from'./productAPI';const initialState={products:[],brands:[],categories:[],status:'idle',totalItems:0,selectedProduct:null};export const fetchAllProductsAsync=createAsyncThunk('product/fetchAllProducts',async()=>{const response=await fetchAllProducts();// The value we return becomes the `fulfilled` action payload\nreturn response.data;});export const fetchProductByIdAsync=createAsyncThunk('product/fetchProductById',async id=>{const response=await fetchProductById(id);// The value we return becomes the `fulfilled` action payload\nreturn response.data;});export const fetchProductsByFiltersAsync=createAsyncThunk('product/fetchProductsByFilters',async _ref=>{let{filter,sort,pagination}=_ref;const response=await fetchProductsByFilters(filter,sort,pagination);// The value we return becomes the `fulfilled` action payload\nreturn response.data;});export const fetchBrandsAsync=createAsyncThunk('product/fetchBrands',async()=>{const response=await fetchBrands();// The value we return becomes the `fulfilled` action payload\nreturn response.data;});export const fetchCategoriesAsync=createAsyncThunk('product/fetchCategories',async()=>{const response=await fetchCategories();// The value we return becomes the `fulfilled` action payload\nreturn response.data;});export const createProductAsync=createAsyncThunk('product/create',async product=>{const response=await createProduct(product);return response.data;});export const updateProductAsync=createAsyncThunk('product/update',async update=>{const response=await updateProduct(update);return response.data;});export const productSlice=createSlice({name:'product',initialState,reducers:{clearSelectedProduct:state=>{state.selectedProduct=null;}},extraReducers:builder=>{builder.addCase(fetchAllProductsAsync.pending,state=>{state.status='loading';}).addCase(fetchAllProductsAsync.fulfilled,(state,action)=>{state.status='idle';state.products=action.payload;}).addCase(fetchProductsByFiltersAsync.pending,state=>{state.status='loading';}).addCase(fetchProductsByFiltersAsync.fulfilled,(state,action)=>{state.status='idle';state.products=action.payload.products;state.totalItems=action.payload.totalItems;}).addCase(fetchBrandsAsync.pending,state=>{state.status='loading';}).addCase(fetchBrandsAsync.fulfilled,(state,action)=>{state.status='idle';state.brands=action.payload;}).addCase(fetchCategoriesAsync.pending,state=>{state.status='loading';}).addCase(fetchCategoriesAsync.fulfilled,(state,action)=>{state.status='idle';state.categories=action.payload;}).addCase(fetchProductByIdAsync.pending,state=>{state.status='loading';}).addCase(fetchProductByIdAsync.fulfilled,(state,action)=>{state.status='idle';state.selectedProduct=action.payload;}).addCase(createProductAsync.pending,state=>{state.status='loading';}).addCase(createProductAsync.fulfilled,(state,action)=>{state.status='idle';state.products.push(action.payload);}).addCase(updateProductAsync.pending,state=>{state.status='loading';}).addCase(updateProductAsync.fulfilled,(state,action)=>{state.status='idle';const index=state.products.findIndex(product=>product.id===action.payload.id);state.products[index]=action.payload;state.selectedProduct=action.payload;});}});// export const {  } = productSlice.actions;\nexport const{clearSelectedProduct}=productSlice.actions;export const selectAllProducts=state=>state.product.products;export const selectBrands=state=>state.product.brands;export const selectCategories=state=>state.product.categories;export const selectProductById=state=>state.product.selectedProduct;export const selectTotalItems=state=>state.product.totalItems;export const selectProductListStatus=state=>state.product.status;export default productSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","fetchAllProducts","fetchProductsByFilters","fetchBrands","fetchCategories","fetchProductById","createProduct","updateProduct","initialState","products","brands","categories","status","totalItems","selectedProduct","fetchAllProductsAsync","response","data","fetchProductByIdAsync","id","fetchProductsByFiltersAsync","_ref","filter","sort","pagination","fetchBrandsAsync","fetchCategoriesAsync","createProductAsync","product","updateProductAsync","update","productSlice","name","reducers","clearSelectedProduct","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","push","index","findIndex","actions","selectAllProducts","selectBrands","selectCategories","selectProductById","selectTotalItems","selectProductListStatus","reducer"],"sources":["D:/Majorproject/agromart/src/features/product/productSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport {\n  fetchAllProducts,\n  fetchProductsByFilters,\n  fetchBrands,\n  fetchCategories,\n  fetchProductById,\n  createProduct,\n  updateProduct,\n} from './productAPI';\n\nconst initialState = {\n  products: [],\n  brands:[],\n  categories:[],\n  status: 'idle',\n  totalItems: 0,\n  selectedProduct: null,\n};\n\n\nexport const fetchAllProductsAsync = createAsyncThunk(\n  'product/fetchAllProducts',\n  async () => {\n    const response = await fetchAllProducts();\n    // The value we return becomes the `fulfilled` action payload\n    return response.data;\n  }\n);\n\nexport const fetchProductByIdAsync = createAsyncThunk(\n  'product/fetchProductById',\n  async (id) => {\n    const response = await fetchProductById(id);\n    // The value we return becomes the `fulfilled` action payload\n    return response.data;\n  }\n);\n\nexport const fetchProductsByFiltersAsync = createAsyncThunk(\n  'product/fetchProductsByFilters',\n  async ({filter,sort,pagination}) => {\n    const response = await fetchProductsByFilters(filter,sort,pagination);\n    // The value we return becomes the `fulfilled` action payload\n    return response.data;\n  }\n);\n\nexport const fetchBrandsAsync = createAsyncThunk(\n  'product/fetchBrands',\n  async () => {\n    const response = await fetchBrands();\n    // The value we return becomes the `fulfilled` action payload\n    return response.data;\n  }\n);\nexport const fetchCategoriesAsync = createAsyncThunk(\n  'product/fetchCategories',\n  async () => {\n    const response = await fetchCategories();\n    // The value we return becomes the `fulfilled` action payload\n    return response.data;\n  }\n);\n\nexport const createProductAsync = createAsyncThunk(\n  'product/create',\n  async (product) => {\n    const response = await createProduct(product);\n    return response.data;\n  }\n);\n\nexport const updateProductAsync = createAsyncThunk(\n  'product/update',\n  async (update) => {\n    const response = await updateProduct(update);\n    return response.data;\n  }\n);\n\n\nexport const productSlice = createSlice({\n  name: 'product',\n  initialState,\n  reducers: {\n    clearSelectedProduct:(state)=>{\n      state.selectedProduct = null\n    }\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchAllProductsAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchAllProductsAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.products = action.payload;\n      })\n      .addCase(fetchProductsByFiltersAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchProductsByFiltersAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.products = action.payload.products;\n        state.totalItems = action.payload.totalItems;\n      })\n      .addCase(fetchBrandsAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchBrandsAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.brands = action.payload;\n      })\n      .addCase(fetchCategoriesAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchCategoriesAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.categories = action.payload;\n      })\n      .addCase(fetchProductByIdAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchProductByIdAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.selectedProduct = action.payload;\n      })\n      .addCase(createProductAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(createProductAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.products.push(action.payload);\n      })\n      .addCase(updateProductAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(updateProductAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        const index = state.products.findIndex(\n          (product) => product.id === action.payload.id\n        );\n        state.products[index] = action.payload;\n        state.selectedProduct = action.payload;\n      });\n  },\n});\n\n// export const {  } = productSlice.actions;\nexport const { clearSelectedProduct } = productSlice.actions;\n\nexport const selectAllProducts = (state) => state.product.products;\nexport const selectBrands = (state) => state.product.brands;\nexport const selectCategories = (state) => state.product.categories;\nexport const selectProductById = (state) => state.product.selectedProduct;\nexport const selectTotalItems = (state) => state.product.totalItems;\nexport const selectProductListStatus = (state) => state.product.status;\n\nexport default productSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}